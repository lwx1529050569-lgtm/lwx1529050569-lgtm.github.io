<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ·ä¸é£çš„æ•…äº‹ Â· çºªå¿µå†Œ</title>
    <!-- å¼•å…¥æ€æºå®‹ä½“ï¼Œå¢åŠ æ–‡è‰ºæ„Ÿ -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-overlay: rgba(0, 0, 0, 0.4);
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: "Noto Serif SC", serif;
            overflow: hidden;
            background: #000;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
        }

        /* åŠ¨æ€æ¨¡ç³ŠèƒŒæ™¯ */
        #bg-layer {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background-size: cover;
            background-position: center;
            filter: blur(20px) brightness(0.6);
            transition: background-image 1s ease-in-out;
            z-index: 0;
        }

        /* å†…å®¹å®¹å™¨ */
        .container {
            position: relative;
            z-index: 10;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            perspective: 1000px;
        }

        /* ç…§ç‰‡å¡ç‰‡ */
        .photo-card {
            width: 85%;
            max-width: 400px;
            aspect-ratio: 3/4;
            background: #fff;
            padding: 15px 15px 50px 15px; /* ä¸‹æ–¹ç•™ç™½åƒæ‹ç«‹å¾— */
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            transform: rotate(-2deg) scale(0.9);
            opacity: 0;
            transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1);
            position: absolute;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        /* å›¾ç‰‡æœ¬èº« */
        .photo-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: sepia(10%); /* æ·¡æ·¡çš„å¤å¤æ»¤é•œ */
        }

        /* æ¿€æ´»çŠ¶æ€ï¼ˆå½“å‰æ˜¾ç¤ºçš„ç…§ç‰‡ï¼‰ */
        .photo-card.active {
            opacity: 1;
            transform: rotate(0deg) scale(1);
            z-index: 2;
        }

        /* ç¦»åœºåŠ¨ç”»ï¼ˆæ»‘èµ°ï¼‰ */
        .photo-card.prev {
            transform: translateX(-150%) rotate(-10deg);
            opacity: 0;
        }
        
        /* è¿›åœºå‡†å¤‡ */
        .photo-card.next {
            transform: translateX(150%) rotate(10deg);
            opacity: 0;
        }

        /* æ–‡å­—åŒºåŸŸ */
        .text-area {
            position: absolute;
            bottom: 10%;
            width: 80%;
            text-align: center;
            z-index: 20;
            text-shadow: 0 2px 10px rgba(0,0,0,0.8);
            min-height: 60px;
        }

        .text-area h2 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            font-weight: 300;
            letter-spacing: 2px;
        }

        .text-area p {
            font-size: 0.9rem;
            opacity: 0.8;
            font-style: italic;
        }

        /* éŸ³ä¹æŒ‰é’® */
        .music-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border: 1px solid rgba(255,255,255,0.5);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 100;
            animation: rotate 5s linear infinite;
            animation-play-state: paused;
        }
        .music-btn.playing {
            animation-play-state: running;
            border-color: #fff;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* æç¤ºç‚¹å‡» */
        .hint {
            position: absolute;
            bottom: 20px;
            font-size: 0.8rem;
            opacity: 0.5;
            animation: bounce 2s infinite;
            z-index: 10;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

    </style>
</head>
<body>

    <!-- èƒŒæ™¯å±‚ -->
    <div id="bg-layer"></div>

    <!-- éŸ³ä¹å¼€å…³ (å›¾æ ‡æ˜¯éŸ³ç¬¦) -->
    <div class="music-btn" id="music-btn" onclick="toggleMusic()">ğŸµ</div>
    <audio id="bg-music" loop>
        <!-- è¿™é‡Œéœ€è¦æ”¾ä¸€ä¸ª mp3 åœ°å€ï¼Œæˆ–è€…ä½ å¯ä»¥æ”¾æœ¬åœ°çš„ music.mp3 -->
        <!-- æš‚æ—¶ç”¨ä¸€ä¸ªåœ¨çº¿çš„çº¯éŸ³ä¹å¤–é“¾ä½œä¸ºæ¼”ç¤º -->
        <source src="https://music.163.com/song/media/outer/url?id=1824045032.mp3" type="audio/mpeg">
    </audio>

    <div class="container" onclick="nextSlide()">
        <!-- è¿™é‡Œçš„ src="images/p1.jpg" è®°å¾—è¦ç¡®ä¿ä½ æœ‰è¿™äº›å›¾ç‰‡æ–‡ä»¶ -->
        
        <!-- ç¬¬1é¡µ -->
        <div class="photo-card active" data-text="é‚£å¹´å¤å¤©ï¼Œé£å¾ˆæ¸©æŸ”" data-sub="è·¨æµ·å¤§æ¡¥è§è¯äº†æˆ‘ä»¬çš„ç›¸é‡">
            <img src="images/p1.jpg" alt="Photo 1">
        </div>

        <!-- ç¬¬2é¡µ -->
        <div class="photo-card next" data-text="è¿½é€é˜³å…‰" data-sub="å•è½¦è½¦è½®è½¬åŠ¨ç€é’æ˜¥çš„é¢‘ç‡">
            <img src="images/p2.jpg" alt="Photo 2">
        </div>

        <!-- ç¬¬3é¡µ -->
        <div class="photo-card next" data-text="å¬æµ·" data-sub="æµ·æµªä¼šè®°å¾—æ¯ä¸€ä¸ªå¿ƒæ„¿">
            <img src="images/p4.jpg" alt="Photo 3">
        </div>

        <!-- ç¬¬4é¡µ -->
        <div class="photo-card next" data-text="å‡è§†" data-sub="ä¸–ç•Œå¾ˆå¤§ï¼Œä½†æ­¤åˆ»åªæœ‰è¿™ç‰‡æµ·">
            <img src="images/p3.jpg" alt="Photo 4">
        </div>
        
        <!-- ç¬¬5é¡µ -->
        <div class="photo-card next" data-text="å…‰å½±æ–‘é©³" data-sub="æ ‘è«ä¸‹è—ç€è¯´ä¸å®Œçš„è¯">
            <img src="images/p5.jpg" alt="Photo 5">
        </div>

        <!-- ç¬¬6é¡µ -->
        <div class="photo-card next" data-text="é‚£ä¸ªå°‘å¹´" data-sub="é•œå¤´èƒŒåçš„ç›®å…‰ï¼Œæ¯”æµ·é£æ›´æ·±æƒ…">
            <img src="images/p6.jpg" alt="Photo 6">
        </div>

        <!-- ç¬¬7é¡µ -->
        <div class="photo-card next" data-text="æœªå®Œå¾…ç»­" data-sub="æ•…äº‹è¿˜åœ¨ç»§ç»­...">
            <img src="images/p7.jpg" alt="Photo 7">
        </div>

        <!-- æ–‡å­—æ˜¾ç¤ºåŒº -->
        <div class="text-area">
            <h2 id="main-text"></h2>
            <p id="sub-text"></p>
        </div>

        <div class="hint">ç‚¹å‡»å±å¹• åˆ‡æ¢ä¸‹ä¸€å¼ </div>
    </div>

    <script>
        const cards = document.querySelectorAll('.photo-card');
        const bgLayer = document.getElementById('bg-layer');
        const mainText = document.getElementById('main-text');
        const subText = document.getElementById('sub-text');
        const musicBtn = document.getElementById('music-btn');
        const audio = document.getElementById('bg-music');
        
        let currentIndex = 0;
        let isTyping = false;

        // åˆå§‹åŒ–ç¬¬ä¸€å¼ 
        updateContent(0);

        function nextSlide() {
            if (currentIndex >= cards.length - 1) {
                // å¦‚æœæ˜¯æœ€åä¸€å¼ ï¼Œå¯ä»¥é€‰æ‹©é‡å¤´å¼€å§‹ï¼Œæˆ–è€…è¿™å°±ç»“æŸ
                // è¿™é‡Œæˆ‘ä»¬åšå¾ªç¯æ’­æ”¾
                resetSlides();
                currentIndex = 0;
            } else {
                cards[currentIndex].classList.remove('active');
                cards[currentIndex].classList.add('prev');
                
                currentIndex++;
                cards[currentIndex].classList.remove('next');
                cards[currentIndex].classList.add('active');
            }
            updateContent(currentIndex);
        }

        function resetSlides() {
            cards.forEach((card, index) => {
                card.classList.remove('prev', 'active');
                if(index === 0) {
                    card.classList.add('active');
                } else {
                    card.classList.add('next');
                }
            });
        }

        function updateContent(index) {
            const card = cards[index];
            const imgUrl = card.querySelector('img').src;
            const text = card.getAttribute('data-text');
            const sub = card.getAttribute('data-sub');

            // 1. æ›´æ–°æ¨¡ç³ŠèƒŒæ™¯
            bgLayer.style.backgroundImage = `url(${imgUrl})`;

            // 2. æ‰“å­—æœºæ•ˆæœæ˜¾ç¤ºæ–‡å­—
            typeWriter(text, sub);
        }

        // æ‰“å­—æœºç‰¹æ•ˆ
        function typeWriter(text1, text2) {
            mainText.innerHTML = '';
            subText.innerHTML = '';
            
            let i = 0;
            // å…ˆæ‰“æ ‡é¢˜
            function typeTitle() {
                if (i < text1.length) {
                    mainText.innerHTML += text1.charAt(i);
                    i++;
                    setTimeout(typeTitle, 100);
                } else {
                    // æ ‡é¢˜æ‰“å®Œï¼Œæ‰“å‰¯æ ‡é¢˜
                    let j = 0;
                    function typeSub() {
                        if (j < text2.length) {
                            subText.innerHTML += text2.charAt(j);
                            j++;
                            setTimeout(typeSub, 50);
                        }
                    }
                    typeSub();
                }
            }
            typeTitle();
        }

        // éŸ³ä¹æ§åˆ¶
        function toggleMusic() {
            if (audio.paused) {
                audio.play();
                musicBtn.classList.add('playing');
            } else {
                audio.pause();
                musicBtn.classList.remove('playing');
            }
        }
    </script>
</body>
</html>